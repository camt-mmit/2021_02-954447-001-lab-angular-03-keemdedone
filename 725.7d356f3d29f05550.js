"use strict";(self.webpackChunkmy_ng3=self.webpackChunkmy_ng3||[]).push([[725],{4725:(ke,Z,c)=>{c.r(Z),c.d(Z,{GoogleModule:()=>Ae});var p=c(9808),h=c(8093),e=c(7587),E=c(1135),q=c(4671),x=c(4482),N=c(5403);function I(o,r){return o===r}var O=c(2076),f=c(4004),P=c(7579),$=c(6063);class R extends P.x{constructor(r=1/0,t=1/0,n=$.l){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){const{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(n.push(r),!i&&n.push(s.now()+l)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!r.closed;l+=n?1:2)r.next(s[l]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){const{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,s=(i?1:2)*r;if(r<1/0&&s<n.length&&n.splice(0,n.length-s),!i){const l=t.now();let u=0;for(let m=1;m<n.length&&n[m]<=l;m+=2)u=m;u&&n.splice(0,u+1)}}}var M=c(3099),g=c(9646),G=c(262),d=c(3900),v=c(1341);function b(o,r,t,n,i,s,l){try{var u=o[s](l),m=u.value}catch(Se){return void t(Se)}u.done?r(m):Promise.resolve(m).then(n,i)}function Q(o){return function(){var r=this,t=arguments;return new Promise(function(n,i){var s=o.apply(r,t);function l(m){b(s,n,i,l,u,"next",m)}function u(m){b(s,n,i,l,u,"throw",m)}l(void 0)})}}function A(o){const r=new Uint32Array(o/2);return crypto.getRandomValues(r),Array.from(r,t=>("0"+t.toString(16)).slice(-2)).join("")}function _(){return(_=Q(function*(o){const t=(new TextEncoder).encode(o);return crypto.subtle.digest("SHA-256",t)})).apply(this,arguments)}var T=c(520);const y="google-token",S="google-code-verifier",k="google-security-token",U="https://oauth2.googleapis.com/token";let C=(()=>{class o{constructor(t,n,i){this.configuration=t,this.http=n,this.router=i,this.tokenReadySubject=new E.X(null),this.tokenData=null,this.tokenReady$=this.tokenReadySubject.asObservable().pipe(function J(o,r=q.y){return o=null!=o?o:I,(0,x.e)((t,n)=>{let i,s=!0;t.subscribe(new N.Q(n,l=>{const u=r(l);(s||!o(i,u))&&(s=!1,i=u,n.next(l))}))})}());const s=localStorage.getItem(y);s&&(this.tokenData=JSON.parse(s)),this.codeVerifier=A(56),this.codeChallenge$=(0,O.D)(function D(o){return _.apply(this,arguments)}(this.codeVerifier)).pipe((0,f.U)(l=>function z(o){return function j(o){let r="",t=new Uint8Array(o),n=t.byteLength;for(var i=0;i<n;i++)r+=String.fromCharCode(t[i]);return btoa(r)}(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(l)),function Y(o,r,t){var n,i;let s,l=!1;return o&&"object"==typeof o?(s=null!==(n=o.bufferSize)&&void 0!==n?n:1/0,r=null!==(i=o.windowTime)&&void 0!==i?i:1/0,l=!!o.refCount,t=o.scheduler):s=null!=o?o:1/0,(0,M.B)({connector:()=>new R(s,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}(1)),this.getAccessToken().subscribe(()=>this.emmitTokenReadyEvent())}emmitTokenReadyEvent(){this.tokenReadySubject.next(!!this.tokenData)}setTokenData(t){var n;return null===t?localStorage.removeItem(y):(!t.refresh_token&&(null===(n=this.tokenData)||void 0===n?void 0:n.refresh_token)&&(t.refresh_token=this.tokenData.refresh_token),t.expires||(t.expires=(new Date).getTime()+1e3*(t.expires_in-10)),localStorage.setItem(y,JSON.stringify(t))),this.tokenData=t,this.emmitTokenReadyEvent(),(0,g.of)(this.tokenData)}refresh(){var t;return(null===(t=this.tokenData)||void 0===t?void 0:t.refresh_token)?this.http.post(U,{client_id:this.configuration.client_id,client_secret:this.configuration.client_secret,grant_type:"refresh_token",refresh_token:this.tokenData.refresh_token}).pipe((0,G.K)(n=>(console.error(n),(0,g.of)(null))),(0,d.w)(n=>this.setTokenData(n))):(0,g.of)(null)}getAuthorizationLink(){return this.codeChallenge$.pipe((0,f.U)(t=>{const n=A(16);localStorage.setItem(S,this.codeVerifier),localStorage.setItem(k,n);const i=new URL("https://accounts.google.com/o/oauth2/v2/auth");i.searchParams.append("client_id",this.configuration.client_id),i.searchParams.append("redirect_uri",this.configuration.redirect_uri),i.searchParams.append("response_type","code");const s=this.configuration.scopes.join(" ");i.searchParams.append("scope",s),i.searchParams.append("code_challenge",t),i.searchParams.append("code_challenge_method","S256");const l=new URLSearchParams;return l.append("internal_redirect_uri",this.router.url),l.append("security_token",n),i.searchParams.append("state",l.toString()),i.searchParams.append("prompt","consent"),i.searchParams.append("access_type","offline"),i.toString()}))}requestAccessToken(t,n){const i=localStorage.getItem(k);return i&&i===n?this.http.post(U,{client_id:this.configuration.client_id,client_secret:this.configuration.client_secret,code:t,code_verifier:localStorage.getItem(S),grant_type:"authorization_code",redirect_uri:this.configuration.redirect_uri}).pipe((0,G.K)(s=>(console.error(s),(0,g.of)(null))),(0,d.w)(s=>this.setTokenData(s)),(0,f.U)(s=>!!s)):(0,g.of)(!1)}getAccessToken(){if(this.tokenData){const t=(new Date).getTime();return this.tokenData.expires<t?this.refresh().pipe((0,f.U)(n=>n?n.access_token:null)):(0,g.of)(this.tokenData.access_token)}return(0,g.of)(null)}getAuthorizationHeader(){return this.getAccessToken().pipe((0,f.U)(t=>{var n;return t?`${null===(n=this.tokenData)||void 0===n?void 0:n.token_type} ${t}`:null}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.xZ),e.LFG(T.eN),e.LFG(h.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),K=(()=>{class o{constructor(t,n,i){this.tokenService=t,this.route=n,this.router=i,this.errorMsg=null}ngOnInit(){const t=this.route.snapshot.queryParams,n=new URLSearchParams(t.state);t.error?this.errorMsg=t.error:t.code&&this.tokenService.requestAccessToken(t.code,n.get("security_token")).subscribe(i=>{i?this.router.navigateByUrl(n.get("internal_redirect_uri")):this.errorMsg="UNKNOW ERROR !!!"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C),e.Y36(h.gz),e.Y36(h.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-authorization-page"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"google-authorization-page works!"),e.qZA())},styles:[""]}),o})(),F=(()=>{class o{constructor(t,n){this.tokenService=t,this.http=n}getAll(t){const n=Object.assign({},t);return this.tokenService.getAuthorizationHeader().pipe((0,d.w)(i=>i?this.http.get("https://people.googleapis.com/v1/people/me/connections?personFields=names,photos,emailAddresses,phoneNumbers",{headers:{Authorization:i},params:n}):(0,g.of)(null)),(0,f.U)(i=>(0,v.jV)(i)))}create(t){return this.tokenService.getAuthorizationHeader().pipe((0,d.w)(n=>n?this.http.post("https://people.googleapis.com/v1/people:createContact?personFields=biographies,birthdays,genders,names",t,{headers:{Authorization:n}}):(0,g.of)(null)),(0,f.U)(n=>(0,v.zG)(n)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var a=c(2382);let ee=(()=>{class o{constructor(t){this.fb=t,this.onTouched=()=>{},this.subscriptions=[]}ngOnInit(){this.formGroup=this.fb.group({}),this.valueChanges$=this.formGroup.valueChanges}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}writeValue(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}registerOnChange(t){const n=this.valueChanges$.subscribe(t);this.subscriptions.push(n)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable():this.formGroup.enable()}validate(t){if(!this.formGroup.invalid)return null;let n=Object.assign({},this.formGroup.errors);return["names","emailAddresses","phoneNumbers"].forEach(i=>{const s=this.formGroup.get(i);s.errors&&(n[i]=s.errors)}),n}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-control"]],features:[e._Bn([{provide:a.JU,useExisting:o,multi:!0},{provide:a.Cf,useExisting:o,multi:!0}])],decls:17,vars:1,consts:[[3,"formGroup"],["type","text","formControlName","names",3,"blur"],["type","text","formControlName","",3,"blur"],["type","text","formControlName","emailAddresses",3,"blur"],["type","text","formControlName","phoneNumbers",3,"blur"]],template:function(t,n){1&t&&(e.ynx(0,0),e.TgZ(1,"p"),e.TgZ(2,"b"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"input",1),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.TgZ(5,"p"),e.TgZ(6,"b"),e._uU(7,"Family Name"),e.qZA(),e.TgZ(8,"input",2),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.TgZ(9,"p"),e.TgZ(10,"b"),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"input",3),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.TgZ(13,"p"),e.TgZ(14,"b"),e._uU(15,"Phone"),e.qZA(),e.TgZ(16,"input",4),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.BQk()),2&t&&e.Q6J("formGroup",n.formGroup)},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u],styles:[""]}),o})(),te=(()=>{class o{constructor(t){this.fb=t,this.data=null,this.dataChange=new e.vpe,this.cancel=new e.vpe,this.errorMsg=null}ngOnInit(){this.formGroup=this.fb.group({person:[this.data,[a.kI.required]]})}onSubmit(){if(this.errorMsg=null,this.formGroup.invalid)this.errorMsg="Invalid form data!!!";else{const t=this.formGroup.get("person");this.dataChange.emit(t.value)}}onCancel(){this.cancel.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-form"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",cancel:"cancel"},decls:7,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","person"],["type","submit"],["type","button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(1,"app-google-contacts-control",1),e.TgZ(2,"div"),e.TgZ(3,"button",2),e._uU(4," Save "),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.onCancel()}),e._uU(6," Cancel "),e.qZA(),e.qZA(),e.qZA()),2&t&&e.Q6J("formGroup",n.formGroup)},directives:[a._Y,a.JL,a.sg,ee,a.JJ,a.u],styles:[""]}),o})(),oe=(()=>{class o{constructor(t){this.service=t}ngOnInit(){}onChange(t){this.service.create(t).subscribe(n=>{history.back()})}onCancel(){history.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contact-create-page"]],decls:1,vars:0,consts:[[3,"dataChange","cancel"]],template:function(t,n){1&t&&(e.TgZ(0,"app-google-contacts-form",0),e.NdJ("dataChange",function(s){return n.onChange(s)})("cancel",function(){return n.onCancel()}),e.qZA())},directives:[te],styles:[""]}),o})();function ne(o,r){if(1&o&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.s9C("src",t.url,e.LSH)}}function re(o,r){if(1&o&&(e.TgZ(0,"div",10),e.TgZ(1,"b"),e._uU(2,"Name"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.displayName," ")}}function ie(o,r){if(1&o&&(e.TgZ(0,"div",11),e.TgZ(1,"b"),e._uU(2,"Email"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.value," ")}}function se(o,r){if(1&o&&(e.TgZ(0,"div",12),e.TgZ(1,"b"),e._uU(2,"Phone"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.value," ")}}function ae(o,r){if(1&o&&(e.TgZ(0,"div",3),e.YNc(1,ne,2,1,"div",4),e.YNc(2,re,4,1,"div",5),e.YNc(3,ie,4,1,"div",6),e.YNc(4,se,4,1,"div",7),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.photos),e.xp6(1),e.Q6J("ngForOf",t.names),e.xp6(1),e.Q6J("ngForOf",t.emailAddresses),e.xp6(1),e.Q6J("ngForOf",t.phoneNumbers)}}function le(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ae,5,4,"div",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.connections)}}function ce(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",13),e._UZ(1,"circle",14),e.qZA())}let ue=(()=>{class o{constructor(){this.data=null}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-list"]],inputs:{data:"data"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["class","contact-list",4,"ngFor","ngForOf"],[1,"contact-list"],["class","photo",4,"ngFor","ngForOf"],["class","name",4,"ngFor","ngForOf"],["class","email",4,"ngFor","ngForOf"],["class","phone",4,"ngFor","ngForOf"],[1,"photo"],[3,"src"],[1,"name"],[1,"email"],[1,"phone"],["viewBox","0 0 50 50",1,"loading-spinner"],["cx","25","cy","25","r","20","fill","none","stroke-width","7.5",1,"path"]],template:function(t,n){if(1&t&&(e.YNc(0,le,2,1,"div",0),e.YNc(1,ce,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.data)("ngIfElse",i)}},directives:[p.O5,p.sg],styles:[".contact-list[_ngcontent-%COMP%]{margin:1.5em 0 0}"]}),o})(),pe=(()=>{class o{constructor(t){this.service=t}ngOnInit(){this.data$=this.service.getAll()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-contacts-list-page"]],decls:5,vars:3,consts:[["routerLink","./create"],[3,"data"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"a",0),e._uU(2," Create Contacts "),e.qZA(),e.qZA(),e._UZ(3,"app-google-contacts-list",1),e.ALo(4,"async")),2&t&&(e.xp6(3),e.Q6J("data",e.lcZ(4,1,n.data$)))},directives:[h.yS,ue],pipes:[p.Ov],styles:[""]}),o})();const w="https://www.googleapis.com/calendar/v3/calendars/primary/events";let L=(()=>{class o{constructor(t,n){this.tokenService=t,this.http=n}getAll(t){const n=Object.assign({},t);return this.tokenService.getAuthorizationHeader().pipe((0,d.w)(i=>i?this.http.get(w,{headers:{Authorization:i},params:n}):(0,g.of)(null)),(0,f.U)(i=>(0,v.Sh)(i)))}create(t){return this.tokenService.getAuthorizationHeader().pipe((0,d.w)(n=>n?this.http.post(w,t,{headers:{Authorization:n}}):(0,g.of)(null)),(0,f.U)(n=>(0,v.RC)(n)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ge=(()=>{class o{constructor(t){this.fb=t,this.onTouched=()=>{},this.subscriptions=[]}ngOnInit(){this.formGroup=this.fb.group({summary:[null,[a.kI.required]],start:this.fb.group({dateTime:[null,[a.kI.required]]}),end:this.fb.group({dateTime:[null,[a.kI.required]]})}),this.valueChanges$=this.formGroup.valueChanges.pipe((0,f.U)(t=>{var n,i;return(null===(n=t.start)||void 0===n?void 0:n.dateTime)&&(t.start.dateTime=new Date(t.start.dateTime).toISOString()),(null===(i=t.end)||void 0===i?void 0:i.dateTime)&&(t.end.dateTime=new Date(t.end.dateTime).toISOString()),t}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}writeValue(t){t&&this.formGroup.setValue(t,{emitEvent:!1})}registerOnChange(t){const n=this.valueChanges$.subscribe(t);this.subscriptions.push(n)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.formGroup.disable():this.formGroup.enable()}validate(t){if(!this.formGroup.invalid)return null;let n=Object.assign({},this.formGroup.errors);return["summary","start.dateTime","end.dateTime"].forEach(i=>{const s=this.formGroup.get(i);s.errors&&(n[i]=s.errors)}),n}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-event-control"]],features:[e._Bn([{provide:a.JU,useExisting:o,multi:!0},{provide:a.Cf,useExisting:o,multi:!0}])],decls:15,vars:1,consts:[[3,"formGroup"],["type","text","formControlName","summary",3,"blur"],["formGroupName","start"],["type","datetime-local","formControlName","dateTime",3,"blur"],["formGroupName","end"],["id","to-datetime","type","datetime-local","formControlName","dateTime",3,"blur"]],template:function(t,n){1&t&&(e.ynx(0,0),e.TgZ(1,"label"),e.TgZ(2,"b"),e._uU(3,"Summary"),e.qZA(),e.TgZ(4,"input",1),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"label"),e.TgZ(7,"b"),e._uU(8,"Time Range"),e.qZA(),e.ynx(9,2),e.TgZ(10,"input",3),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.TgZ(11,"label"),e._uU(12,"To"),e.qZA(),e.BQk(),e.ynx(13,4),e.TgZ(14,"input",5),e.NdJ("blur",function(){return n.onTouched()}),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.BQk()),2&t&&e.Q6J("formGroup",n.formGroup)},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,a.x0],styles:[""]}),o})(),me=(()=>{class o{constructor(t){this.fb=t,this.data=null,this.dataChange=new e.vpe,this.cancel=new e.vpe,this.errorMsg=null}ngOnInit(){this.formGroup=this.fb.group({eventResource:[this.data,[a.kI.required]]})}onSubmit(){if(this.errorMsg=null,this.formGroup.invalid)this.errorMsg="Invalid form data!!!";else{const t=this.formGroup.get("eventResource");this.dataChange.emit(t.value)}}onCancel(){this.cancel.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-event-form"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",cancel:"cancel"},decls:7,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","eventResource"],["type","submit"],["type","button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(1,"app-google-event-control",1),e.TgZ(2,"div"),e.TgZ(3,"button",2),e._uU(4," Save "),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.onCancel()}),e._uU(6," Cancel "),e.qZA(),e.qZA(),e.qZA()),2&t&&e.Q6J("formGroup",n.formGroup)},directives:[a._Y,a.JL,a.sg,ge,a.JJ,a.u],styles:[""]}),o})(),he=(()=>{class o{constructor(t){this.service=t}ngOnInit(){}onChange(t){this.service.create(t).subscribe(n=>{history.back()})}onCancel(){history.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-event-create-page"]],decls:1,vars:0,consts:[[3,"dataChange","cancel"]],template:function(t,n){1&t&&(e.TgZ(0,"app-google-event-form",0),e.NdJ("dataChange",function(s){return n.onChange(s)})("cancel",function(){return n.onCancel()}),e.qZA())},directives:[me],styles:[""]}),o})();function fe(o,r){if(1&o&&(e.TgZ(0,"a",3),e.TgZ(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"small"),e._uU(4),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.Q6J("href",t.htmlLink,e.LSH),e.xp6(2),e.hij(" ",t.summary," "),e.xp6(2),e.AsE(" ",t.start.dateTime," - ",t.end.dateTime," ")}}function de(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,fe,5,4,"a",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.items)}}function ve(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",4),e._UZ(1,"circle",5),e.qZA())}let Ce=(()=>{class o{constructor(){this.data=null}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-events-list"]],inputs:{data:"data"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["target","_blank","class","item-list",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"item-list",3,"href"],["viewBox","0 0 50 50",1,"loading-spinner"],["cx","25","cy","25","r","20","fill","none","stroke-width","7.5",1,"path"]],template:function(t,n){if(1&t&&(e.YNc(0,de,2,1,"div",0),e.YNc(1,ve,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",n.data)("ngIfElse",i)}},directives:[p.O5,p.sg],styles:[""]}),o})(),_e=(()=>{class o{constructor(t){this.service=t}ngOnInit(){const t=new Date;this.data$=this.service.getAll({singleEvents:!0,orderBy:"startTime",timeMin:t.toISOString()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google-evevts-list-page"]],decls:5,vars:3,consts:[["routerLink","./create"],[3,"data"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"a",0),e._uU(2," Create Events "),e.qZA(),e.qZA(),e._UZ(3,"app-google-events-list",1),e.ALo(4,"async")),2&t&&(e.xp6(3),e.Q6J("data",e.lcZ(4,1,n.data$)))},directives:[h.yS,Ce],pipes:[p.Ov],styles:[""]}),o})();function Te(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"a",11),e.ALo(2,"async"),e._uU(3,"Login Google"),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("href",e.lcZ(2,1,t.authorizationLinks$),e.LSH)}}function ye(o,r){1&o&&e._UZ(0,"router-outlet")}const Ze=[{path:"authorization",component:K},{path:"",component:(()=>{class o{constructor(t){this.TokenService=t}ngOnInit(){this.tokenReady$=this.TokenService.tokenReady$,this.authorizationLinks$=this.TokenService.getAuthorizationLink()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-google"]],decls:22,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://fonts.googleapis.com/icon?family=Material+Icons"],["rel","stylesheet","type","text/css","href","//use.fontawesome.com/releases/v5.7.2/css/all.css"],[1,"cmp-nav"],["routerLink","./events","routerLinkActive","st-active"],["routerLink","./contacts","routerLinkActive","st-active"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"html",0),e.TgZ(1,"head"),e._UZ(2,"meta",1),e._UZ(3,"meta",2),e._UZ(4,"meta",3),e._UZ(5,"link",4),e._UZ(6,"link",5),e.qZA(),e.TgZ(7,"body"),e.TgZ(8,"h2"),e._uU(9,"Google"),e.qZA(),e.TgZ(10,"nav",6),e.TgZ(11,"ul"),e.TgZ(12,"li"),e.TgZ(13,"a",7),e._uU(14,"Events"),e.qZA(),e.qZA(),e.TgZ(15,"li"),e.TgZ(16,"a",8),e._uU(17,"Contacts"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.ynx(18,9),e.ALo(19,"async"),e.YNc(20,Te,4,3,"div",10),e.YNc(21,ye,1,0,"router-outlet",10),e.BQk(),e.qZA(),e.qZA()),2&t&&(e.xp6(18),e.Q6J("ngSwitch",e.lcZ(19,3,n.tokenReady$)),e.xp6(2),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0))},directives:[h.yS,h.Od,p.RF,p.n9,h.lC],pipes:[p.Ov],styles:[""]}),o})(),children:[{path:"",redirectTo:"events",pathMatch:"full"},{path:"events",component:_e},{path:"events/create",component:he},{path:"contacts",component:pe},{path:"contacts/create",component:oe}]}];let Ge=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Ze)],h.Bz]}),o})(),be=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,a.UX]]}),o})(),Ae=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Ge,be]]}),o})()}}]);